<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>HR Management System</title>

    <link rel="stylesheet" href="~/vendors/feather/feather.css">
    <link rel="stylesheet" href="~/vendors/ti-icons/css/themify-icons.css">
    <link rel="stylesheet" href="~/vendors/css/vendor.bundle.base.css">
    <link rel="stylesheet" href="~/css/vertical-layout-light/style.css">
    <link rel="shortcut icon" href="~/images/favicon.png" />
    @await RenderSectionAsync("Styles", required: false)

    <style>
        :root {
            --primary-color: #0d6efd;
            --primary-hover: #0b5ed7;
            --secondary-color: #6c757d;
            --text-color: #212529;
            --text-muted: #6c757d;
            --border-color: #dee2e6;
            --bg-light: #f8f9fa;
            --bg-white: #ffffff;
            --sidebar-width: 260px;
            --sidebar-width-mini: 80px;
            --transition: all 0.2s ease-in-out;
        }

        body {
            background-color: var(--bg-light);
        }

        .navbar {
            background: var(--bg-white);
            border-bottom: 1px solid var(--border-color);
        }

     
        .sidebar {
            width: var(--sidebar-width);
            background: var(--bg-white);
            border-right: 1px solid var(--border-color);
            transition: width 0.25s ease;
        }

        body.sidebar-icon-only .sidebar {
            width: var(--sidebar-width-mini);
        }

        
        .sidebar-header {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            height: 60px; 
        }

        .sidebar-brand-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
        }

            .sidebar-brand-logo .logo-icon {
                width: 32px;
                height: 32px;
            }

            .sidebar-brand-logo .logo-text {
                font-weight: 600;
                color: var(--text-color);
                font-size: 1.1rem;
                white-space: nowrap;
            }

        body.sidebar-icon-only .sidebar-brand-logo .logo-text {
            display: none;
        }

     
        #sidebar .nav {
            padding: 1rem;
        }

            #sidebar .nav .nav-item {
                margin-bottom: 0.5rem;
            }

                #sidebar .nav .nav-item .nav-link {
                    display: flex;
                    align-items: center;
                    padding: 0.75rem 1rem;
                    border-radius: var(--radius-md, 8px);
                    color: var(--text-muted);
                    transition: var(--transition);
                }

                    #sidebar .nav .nav-item .nav-link:hover {
                        background-color: var(--bg-light);
                        color: var(--primary-color);
                    }

                #sidebar .nav .nav-item.active > .nav-link {
                    background-color: var(--primary-color);
                    color: var(--bg-white);
                    font-weight: 500;
                }

                #sidebar .nav .nav-item .nav-link .menu-title {
                    white-space: nowrap;
                    margin-left: 1rem;
                }

                #sidebar .nav .nav-item .nav-link i.menu-arrow {
                    margin-left: auto;
                }

                #sidebar .nav .nav-item.active > .nav-link i,
                #sidebar .nav .nav-item.active > .nav-link .menu-title,
                #sidebar .nav .nav-item.active > .nav-link .menu-arrow {
                    color: inherit;
                }

       
        .sidebar .nav .sub-menu {
            list-style: none;
            padding: 0.5rem 0 0.5rem 2rem;
            background: var(--bg-light);
            border-radius: var(--radius-md, 8px);
        }

            .sidebar .nav .sub-menu .nav-item .nav-link {
                padding: 0.6rem 1rem;
            }

                .sidebar .nav .sub-menu .nav-item .nav-link::before {
                    content: '';
                    width: 4px;
                    height: 4px;
                    border-radius: 50%;
                    background-color: #ccc;
                    margin-right: 0.75rem;
                }

                .sidebar .nav .sub-menu .nav-item .nav-link:hover,
                .sidebar .nav .sub-menu .nav-item .nav-link.active {
                    background: transparent;
                    color: var(--primary-color);
                }

                    .sidebar .nav .sub-menu .nav-item .nav-link.active::before {
                        background-color: var(--primary-color);
                    }

        .sidebar-profile {
            margin: auto 1rem 1rem;
            padding: 0.75rem;
            border-top: 1px solid var(--border-color);
        }

        body.sidebar-icon-only .sidebar-profile .profile-text,
        body.sidebar-icon-only .sidebar-profile .profile-subtext {
            display: none;
        }
    </style>
</head>

<body>
    <div class="container-scroller">
        <nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
            <div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-center">
                <a class="navbar-brand brand-logo mr-5" href="#"><img src="~/images/logo-mini.svg" class="mr-2" />PABLİKA</a>
                <a class="navbar-brand brand-logo-mini" href="#"><img src="~/images/logo-mini.svg" alt="logo" /></a>
            </div>
            <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
                <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
                    <span class="icon-menu"></span>
                </button>
                <ul class="navbar-nav navbar-nav-right">
                    <li class="nav-item nav-profile dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="profileDropdown">
                            <img src="~/images/faces/face28.jpg" alt="profile" />
                        </a>
                        <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="profileDropdown">
                            <a class="dropdown-item">
                                <i class="ti-settings text-primary"></i> Settings
                            </a>
                            <a class="dropdown-item" href="/MicrosoftIdentity/Account/SignOut">
                                <i class="ti-power-off text-primary"></i> Logout
                            </a>
                        </div>
                    </li>
                </ul>
                <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
                    <span class="icon-menu"></span>
                </button>
            </div>
        </nav>

        <div class="container-fluid page-body-wrapper">
            <nav class="sidebar sidebar-offcanvas" id="sidebar">
                <ul class="nav">
                 @*    <li class="nav-item sidebar-profile">
                        <div class="profile-desc">
                            <div class="profile-pic">
                                <div class="count-indicator">
                                    <img class="img-xs rounded-circle " src="~/images/faces/face28.jpg" alt="">
                                    <span class="count bg-success"></span>
                                </div>
                                <div class="profile-name">
                                    <h5 class="mb-0 font-weight-normal profile-text">@User.Identity?.Name</h5>
                                    <span class="profile-subtext">@User.Claims.FirstOrDefault(c => c.Type.Contains("identity/claims/role"))?.Value</span>
                                </div>
                            </div>
                        </div>
                    </li> *@

                    @if (User.IsInRole("Admin"))
                    {
                        <li class="nav-item @(Context.Request.Path.Value?.Contains("/Admin/Home")==true?"active":"")">
                            <a class="nav-link" asp-area="Admin" asp-controller="Home" asp-action="Index">
                                <i class="icon-grid menu-icon"></i>
                                <span class="menu-title">Dashboard</span>
                            </a>
                        </li>
                        <li class="nav-item @(Context.Request.Path.Value?.Contains("/Admin/Company")==true?"active":"")">
                            <a class="nav-link" asp-area="Admin" asp-controller="Company" asp-action="Index">
                                <i class="ti-briefcase menu-icon"></i>
                                <span class="menu-title">Companies</span>
                            </a>
                        </li>
                        <li class="nav-item @(Context.Request.Path.Value?.Contains("/Admin/Package")==true?"active":"")">
                            <a class="nav-link" asp-area="Admin" asp-controller="Package" asp-action="Index">
                                <i class="ti-layers menu-icon"></i>
                                <span class="menu-title">Packages</span>
                            </a>
                        </li>
                    }
                    else if (User.IsInRole("Manager"))
                    {
                        <li class="nav-item @(Context.Request.Path.Value?.Contains("/Manager/Home")==true?"active":"")">
                            <a class="nav-link" asp-area="Manager" asp-controller="Home" asp-action="Index">
                                <i class="icon-grid menu-icon"></i>
                                <span class="menu-title">Dashboard</span>
                            </a>
                        </li>
                        <li class="nav-item @(Context.Request.Path.Value?.Contains("/Manager/Employee")==true?"active":"")">
                            <a class="nav-link" asp-area="Manager" asp-controller="Employee" asp-action="Index">
                                <i class="ti-user menu-icon"></i>
                                <span class="menu-title">Employees</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="collapse" href="#request-pages" aria-expanded="false" aria-controls="request-pages">
                                <i class="ti-clipboard menu-icon"></i>
                                <span class="menu-title">Requests</span>
                                <i class="menu-arrow"></i>
                            </a>
                            <div class="collapse" id="request-pages">
                                <ul class="nav flex-column sub-menu">
                                    <li class="nav-item"> <a class="nav-link @(Context.Request.Path.Value?.Contains("/Manager/Leave")==true?"active":"")" asp-area="Manager" asp-controller="Leave" asp-action="Index">Leave</a></li>
                                    <li class="nav-item"> <a class="nav-link @(Context.Request.Path.Value?.Contains("/Manager/Advance")==true?"active":"")" asp-area="Manager" asp-controller="Advance" asp-action="Index">Advance</a></li>
                                    <li class="nav-item"> <a class="nav-link @(Context.Request.Path.Value?.Contains("/Manager/Expense")==true?"active":"")" asp-area="Manager" asp-controller="Expense" asp-action="Index">Expense</a></li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item @(Context.Request.Path.Value?.Contains("/Manager/LeaveType")==true?"active":"")">
                            <a class="nav-link" asp-area="Manager" asp-controller="LeaveType" asp-action="Index">
                                <i class="ti-tag menu-icon"></i>
                                <span class="menu-title">Leave Types</span>
                            </a>
                        </li>
                    }
                    else if (User.IsInRole("Employee"))
                    {
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="collapse" href="#request-pages" aria-expanded="false" aria-controls="request-pages">
                                <i class="ti-clipboard menu-icon"></i>
                                <span class="menu-title">My Requests</span>
                                <i class="menu-arrow"></i>
                            </a>
                            <div class="collapse" id="request-pages">
                                <ul class="nav flex-column sub-menu">
                                    <li class="nav-item"> <a class="nav-link @(Context.Request.Path.Value?.Contains("/Employee/Leave")==true?"active":"")" asp-area="Employee" asp-controller="Leave" asp-action="Index">Leave</a></li>
                                    <li class="nav-item"> <a class="nav-link @(Context.Request.Path.Value?.Contains("/Employee/Advance")==true?"active":"")" asp-area="Employee" asp-controller="Advance" asp-action="Index">Advance</a></li>
                                    <li class="nav-item"> <a class="nav-link @(Context.Request.Path.Value?.Contains("/Employee/Expense")==true?"active":"")" asp-area="Employee" asp-controller="Expense" asp-action="Index">Expense</a></li>
                                </ul>
                            </div>
                        </li>
                    }
                </ul>
            </nav>

            <div class="main-panel">
                <div class="content-wrapper">
                    @RenderBody()
                </div>
            </div>
        </div>
    </div>

    <script src="~/vendors/js/vendor.bundle.base.js"></script>
    <script src="~/js/off-canvas.js"></script>
    <script src="~/js/hoverable-collapse.js"></script>
    <script src="~/js/template.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>